<polymer-element name="d3-maplayer" attributes="name visible">
  <template>
  </template>
  <script>
  Polymer({
  	visible: true,
  	created: function(){
  		this.data = [];
  	},
    attached: function(){
         var self = this;
         var map = this.parentNode.map;
         this.map = map;
         var onclick = function(d,e){
             //Added for testing
             //d3.event.stopPropagation();
             //self.map.draw({feature: d});
         }
         
         
         this.layer = new d3.mappu.VectorLayer(this.name,{
            reproject: true
         }).addTo(map);
         this.layer.data = this.data;
         this.layer.draw();
     },
     newdata: function(d){
         this.layer.data = d;
     }
  });
  </script>
</polymer-element>
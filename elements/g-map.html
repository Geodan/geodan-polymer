<polymer-element name='g-map' attributes='latitude longitude zoomlevel'>

 <template>
  <style>
  core-header-panel {
        height: 100%;
        overflow: auto;
        width: 100%;
        float: left;
        /*-webkit-overflow-scrolling: touch;*/ 
      }
      core-toolbar {
        position: relative;
        background: #03a9f4;
        color: white;
      }
      .container {
        width: 100%;
        margin: 50px auto;
      }
      @media (min-width: 481px) {
        .container {
          width: 100%;
        }
      }
      
    :host {
      display: block;
      width: 100%;
    }
    
    #map {
    	width: 100%;
    	height: 100%;
    }
          
    .entity {
       fill: none;
       stroke: red;
   }
    
  </style>

       
    <div id="map"></div>

 </template>
 <script>
 (function(){
 Polymer({
    width: 400,
    height: 400,
    zoom: null,
    created: function(){
         this.features = [];
         this.center = [];
    },
    attached: function(){
        this.map = new d3.mappu.Map(this.$.map,{
            center: [this.longitude,this.latitude],
            zoom: this.zoomlevel
        });
        this.zoom = this.map.zoom;
        this.center = this.map.center;
    },
    resize: function(){
    	this.map.resize();
    },
    redraw: function(){
        this.map.redraw();
    },
    //zoom: function(val){
    //    this.map.zoom = val;
    //},
    zoomTo: function(extent){
        console.warn('not implemented');
    },
    //center: function(position){
    //	if (position[0] >= -180 && position[0] <= 180 
    //			&& position[1] >= -90 && position[1] <= 90){
    //		this.map.center = position;
    //	}
    //	else {
    //		console.warn('Wrong coordinates: ',position);
    //	}
    //},
    draw: function(d){
        this.map.redraw(d);
    },
    layers: function(){
        return this.map.layers;
    },
    map: function(){
        return this.map;
    }
 });
 })();
 </script>
</polymer-element>